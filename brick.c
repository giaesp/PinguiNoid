/*****************************************************************************/
/* File Info :                                                               */
/* -----------                                                               */
/* Nome File            : brick.c                                            */
/* Dimensioni           : 7607 byte                                          */
/* Data Ultima Modifica : Domenica 28 Maggio 2000 - 17:16                    */
/* Autore               : Esposito Gianluca (Matr.Num.056/100858)            */
/* Breve Descrizione    : Contiene le definizioni delle tonalita' di colore  */
/*                        usate nei grafici dei mattoni e le loro coordinate */
/*                        all'interno della mappa.                           */
/*****************************************************************************/

#define STAGE_ID 10
#define COLOR 10
#define TONE  8
#define NUM_PIXEL_MATTONI 129
#define MAP_OBJECT 224
#define STD_MAP_X 9
#define STD_MAP_Y 8

enum colortype {BLACK,GRAY1,GRAY2,GRAY3,BLUE,YELLOW,ORANGE,GREEN,RED,BROWN};

/* --------------------------------------------------------- */
/* Definizione delle tonalita' di colore usate per i mattoni */
/* Dimensioni in byte : 160 byte                             */
/* --------------------------------------------------------- */
int MattColor[COLOR][TONE] = {
  {   0,   0,   0,   0,     /* BLACK  */
      0,   0,   0,   0 },    
  {  97,  99, 100, 101,     /* GRAY1  */
    104, 106, 107, 109 },
  { 113, 115, 116, 117,     /* GRAY2  */
    120, 122, 123, 125 },
  { 129, 131, 132, 133,     /* GRAY3  */
    136, 138, 139, 141 },
  { 225, 227, 228, 229,     /* BLUE   */
    232, 234, 235, 237 },
  {  65,  66,  67,  69,     /* YELLOW */
     71,  75,  78,  79 },
  { 241, 243, 244, 245,     /* ORANGE */
    248, 250, 251, 253 },   
  {  33,  34,  35,  36,     /* GREEN  */
     37,  39,  43,  45 },
  {  49,  51,  52,  53,     /* RED    */
     56,  58,  59,  61 },
  { 209, 211, 212, 213,     /* BROWN  */
    216, 218, 219, 221 }
};

/* ------------------------------------------------------------------- */
/* Definizione delle tonalita' di colore applicate a ciascun pixel del */
/* mattone.                                                            */
/* ------------------------------------------------------------------- */ 
struct mattone {
  int addx;
  int addy;
  int colortype;
} Mattoni[NUM_PIXEL_MATTONI] = {
  /* Colore 0 */
  { 0, 7, 0}, { 1, 7, 0}, { 2, 7, 0}, { 3, 7, 0}, { 4, 7, 0}, { 5, 7, 0},
  { 6, 7, 0}, { 7, 7, 0}, { 8, 7, 0}, { 9, 7, 0}, {10, 7, 0}, {11, 7, 0},
  {12, 7, 0}, {13, 7, 0}, {14, 7, 0}, {15, 7, 0}, {15, 0, 0}, {15, 1, 0}, 
  {15, 2, 0}, {15, 3, 0}, {15, 4, 0}, {15, 5, 0}, {15, 6, 0}, {15, 7, 0},
  /* Colore 1 */
  {14, 6, 1}, 
  /* Colore 2 */
  {14, 1, 2}, {14, 2, 2}, {14, 4, 2}, {14, 5, 2}, { 3, 6, 2}, { 4, 6, 2}, 
  { 6, 6, 2}, { 7, 6, 2}, { 9, 6, 2}, {10, 6, 2}, {11, 6, 2}, {12, 6, 2}, 
  {13, 6, 2},
  /* Colore 3 */
  { 0, 6, 3}, { 2, 6, 3}, {14, 0, 3}, {14, 3, 3},
  /* Colore 4 */
  { 1, 1, 4}, { 1, 2, 4}, { 1, 3, 4}, { 1, 4, 4}, { 2, 1, 4}, { 2, 2, 4},
  { 2, 3, 4}, { 3, 1, 4}, { 3, 2, 4}, { 4, 1, 4}, { 4, 5, 4}, { 5, 4, 4},
  { 5, 5, 4}, { 5, 6, 4}, { 6, 3, 4}, { 6, 4, 4}, { 7, 2, 4}, { 7, 3, 4},
  { 7, 5, 4}, { 8, 1, 4}, { 8, 2, 4}, { 8, 3, 4}, { 8, 4, 4}, { 8, 5, 4},
  { 8, 6, 4}, { 9, 1, 4}, { 9, 2, 4}, { 9, 3, 4}, { 9, 4, 4}, {10, 1, 4},
  {10, 2, 4}, {10, 3, 4}, {10, 5, 4}, {11, 1, 4}, {11, 2, 4}, {11, 4, 4},
  {11, 5, 4}, {12, 1, 4}, {12, 3, 4}, {12, 4, 4}, {12, 5, 4}, {13, 2, 4},
  {13, 3, 4}, {13, 5, 4},
  /* Colore 5 */
  { 1, 5, 5}, { 1, 6, 5}, { 2, 4, 5}, { 3, 3, 5}, { 3, 5, 5}, { 4, 2, 5},
  { 4, 4, 5}, { 5, 1, 5}, { 5, 3, 5}, { 6, 2, 5}, { 6, 5, 5}, { 7, 1, 5},
  { 7, 4, 5}, { 9, 5, 5}, {10, 4, 5}, {11, 3, 5}, {12, 2, 5}, {13, 1, 5},
  {13, 4, 5},
  /* Colore 6 */
  { 0, 1, 6}, { 0, 2, 6}, { 0, 3, 6}, { 0, 4, 6}, { 0, 5, 6}, { 1, 0, 6},
  { 2, 0, 6}, { 2, 5, 6}, { 3, 0, 6}, { 3, 4, 6}, { 4, 0, 6}, { 4, 3, 6},
  { 5, 0, 6}, { 5, 2, 6}, { 6, 1, 6}, { 7, 0, 6}, { 8, 0, 6}, { 9, 0, 6},
  {10, 0, 6}, {11, 0, 6}, {12, 0, 6}, {13, 0, 6},
  /* Colore 7 */
  { 0, 0, 7}, { 6, 0, 7}
};

/* ----------------------------------------------------- */
/* Coordinate di ciascun mattone all'interno della mappa */
/* ----------------------------------------------------- */
struct mapcoord {
  int begx;
  int begy;
} MapXY[MAP_OBJECT] = {
  {  0,  0}, { 16,  0}, { 32,  0}, { 48,  0}, { 64,  0}, { 80,  0}, { 96,  0},
  {112,  0}, {128,  0}, {144,  0}, {160,  0}, {176,  0}, {192,  0}, {208,  0},
  {224,  0}, {240,  0}, 

  {  0,  8}, { 16,  8}, { 32,  8}, { 48,  8}, { 64,  8}, { 80,  8}, { 96,  8},
  {112,  8}, {128,  8}, {144,  8}, {160,  8}, {176,  8}, {192,  8}, {208,  8}, 
  {224,  8}, {240,  8}, 
 
  {  0, 16}, { 16, 16}, { 32, 16},  { 48, 16}, { 64, 16}, { 80, 16}, { 96, 16},
  {112, 16}, {128, 16}, {144, 16},  {160, 16}, {176, 16}, {192, 16}, {208, 16},
  {224, 16}, {240, 16}, 

  {  0, 24}, { 16, 24}, { 32, 24}, { 48, 24}, { 64, 24}, { 80, 24}, { 96, 24},
  {112, 24}, {128, 24}, {144, 24}, {160, 24}, {176, 24}, {192, 24}, {208, 24},
  {224, 24}, {240, 24}, 

  {  0, 32}, { 16, 32}, { 32, 32}, { 48, 32}, { 64, 32}, { 80, 32}, { 96, 32},
  {112, 32}, {128, 32}, {144, 32}, {160, 32}, {176, 32}, {192, 32}, {208, 32},
  {224, 32}, {240, 32}, 

  {  0, 40}, { 16, 40}, { 32, 40}, { 48, 40}, { 64, 40}, { 80, 40}, { 96, 40},
  {112, 40}, {128, 40}, {144, 40}, {160, 40}, {176, 40}, {192, 40}, {208, 40},
  {224, 40}, {240, 40}, 
 
  {  0, 48}, { 16, 48}, { 32, 48}, { 48, 48}, { 64, 48}, { 80, 48}, { 96, 48}, 
  {112, 48}, {128, 48}, {144, 48}, {160, 48}, {176, 48}, {192, 48}, {208, 48},
  {224, 48}, {240, 48}, 

  {  0, 56}, { 16, 56}, { 32, 56}, { 48, 56}, { 64, 56}, { 80, 56}, { 96, 56}, 
  {112, 56}, {128, 56}, {144, 56}, {160, 56}, {176, 56}, {192, 56}, {208, 56},
  {224, 56}, {240, 56}, 

  {  0, 64}, { 16, 64}, { 32, 64}, { 48, 64}, { 64, 64}, { 80, 64}, { 96, 64},
  {112, 64}, {128, 64}, {144, 64}, {160, 64}, {176, 64}, {192, 64}, {208, 64},
  {224, 64}, {240, 64}, 

  {  0, 72}, { 16, 72}, { 32, 72}, { 48, 72}, { 64, 72}, { 80, 72}, { 96, 72},
  {112, 72}, {128, 72}, {144, 72}, {160, 72}, {176, 72}, {192, 72}, {208, 72},
  {224, 72}, {240, 72}, 

  {  0, 80}, { 16, 80}, { 32, 80}, { 48, 80}, { 64, 80}, { 80, 80}, { 96, 80},
  {112, 80}, {128, 80}, {144, 80}, {160, 80}, {176, 80}, {192, 80}, {208, 80},
  {224, 80}, {240, 80}, 

  {  0, 88}, { 16, 88}, { 32, 88}, { 48, 88}, { 64, 88}, { 80, 88}, { 96, 88},
  {112, 88}, {128, 88}, {144, 88}, {160, 88}, {176, 88}, {192, 88}, {208, 88},
  {224, 88}, {240, 88}, 

  {  0, 96}, { 16, 96}, { 32, 96}, { 48, 96}, { 64, 96}, { 80, 96}, { 96, 96},
  {112, 96}, {128, 96}, {144, 96}, {160, 96}, {176, 96}, {192, 96}, {208, 96},
  {224, 96}, {240, 96}, 

  {  0,104}, { 16,104}, { 32,104}, { 48,104}, { 64,104}, { 80,104}, { 96,104},
  {112,104}, {128,104}, {144,104}, {160,104}, {176,104}, {192,104}, {208,104},
  {224,104}, {240,104}, 
};

int MapBackup[STAGE_ID][MAP_OBJECT] = { OFF };

void DrawBrick(int x, int y, int color);

void DrawBrick(int x, int y, int color) 
/* Disegna a video il mattone alle coordinate x, y, con uno dei colori */
/* definiti nell'enumerazione "colortype", attingendo a tutte le       */
/* informazioni di colore definite precedentemente.                    */ 
{
  int i;
  for(i=0;i<NUM_PIXEL_MATTONI;i++) {
    if(color == OMBRA) vga_setcolor(0);
    else vga_setcolor(MattColor[color][Mattoni[i].colortype]);
    vga_drawpixel(x+Mattoni[i].addx, y+Mattoni[i].addy);
  }
}



